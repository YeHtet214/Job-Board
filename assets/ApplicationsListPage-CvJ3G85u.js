import{t as m,a as x,j as e,C as h,c as j,d as g,e as u,w as p,x as N,f as b,i as f,B as y,g as C,u as w,r as v,h as E}from"./index-p34BVjv6.js";import{M as A}from"./map-pin-yYVjCuP0.js";import{C as k}from"./calendar-DRX9Qd72.js";import{C as D,a as L}from"./circle-x-BKGd6x_V.js";import{F as I}from"./file-text-CCTf3hu_.js";import{C as R}from"./clock-kkW7g1v3.js";import{f as T}from"./formatDistanceToNow--aFoWvxR.js";import{c as P}from"./useApplicationQueries-DGWYOvPD.js";import"./en-US-2wKFi4xW.js";import"./endOfMonth-Cvw2Tj17.js";import"./application.service-CmxcU4-G.js";/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],M=m("UserRound",B),S=s=>{switch(s){case"PENDING":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:e.jsx(R,{className:"h-4 w-4 mr-1"})};case"REVIEWING":return{color:"bg-blue-100 text-blue-800 border-blue-200",icon:e.jsx(I,{className:"h-4 w-4 mr-1"})};case"INTERVIEW":return{color:"bg-indigo-100 text-indigo-800 border-indigo-200",icon:e.jsx(M,{className:"h-4 w-4 mr-1"})};case"ACCEPTED":return{color:"bg-green-100 text-green-800 border-green-200",icon:e.jsx(L,{className:"h-4 w-4 mr-1"})};case"REJECTED":return{color:"bg-red-100 text-red-800 border-red-200",icon:e.jsx(D,{className:"h-4 w-4 mr-1"})};default:return{color:"bg-gray-100 text-gray-800 border-gray-200",icon:e.jsx(C,{className:"h-4 w-4 mr-1"})}}},F=({application:s})=>{var o,c,i,n;const t=x(),{color:r,icon:a}=S(s.status),l=new Date(s.createdAt),d=T(l,{addSuffix:!0});return e.jsxs(h,{className:"mb-4 hover:shadow-md transition-shadow duration-200",children:[e.jsx(j,{className:"pb-2",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(g,{className:"text-xl text-jobboard-darkblue",children:((o=s.job)==null?void 0:o.title)||"Unnamed Position"}),e.jsxs(u,{className:"flex items-center mt-1",children:[e.jsx(p,{className:"h-4 w-4 mr-1 text-gray-500"}),((i=(c=s.job)==null?void 0:c.company)==null?void 0:i.name)||"Unknown Company"]})]}),e.jsxs(N,{className:`${r} flex items-center px-2 py-1`,children:[a,s.status]})]})}),e.jsx(b,{className:"pb-2",children:e.jsxs("div",{className:"space-y-2",children:[((n=s.job)==null?void 0:n.location)&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(A,{className:"h-4 w-4 mr-2 text-gray-400"}),s.job.location]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(k,{className:"h-4 w-4 mr-2 text-gray-400"}),"Applied ",d]}),s.coverLetter&&e.jsxs("div",{className:"mt-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Cover Letter"}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.coverLetter})]})]})}),e.jsxs(f,{className:"pt-2 flex justify-between items-center",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["Last updated: ",new Date(s.updatedAt).toLocaleDateString()]}),e.jsx(y,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>t(`/jobseeker/applications/${s.id}`),children:"View Details"})]})]})},K=()=>{const{currentUser:s}=w(),{data:t,isLoading:r}=P((s==null?void 0:s.id)||"");return v.useEffect(()=>{console.log("Applications: ",t)},[t]),r?e.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-8",children:e.jsx(E,{})}):e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8",children:[e.jsx("div",{className:"mb-6 flex items-center",children:e.jsx("h1",{className:"text-3xl font-bold text-jobboard-darkblue",children:"Applications"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t&&t.length>0?t.map(a=>e.jsx(F,{application:a},a.id)):e.jsx("p",{children:"No applications found"})})]})};export{K as default};
