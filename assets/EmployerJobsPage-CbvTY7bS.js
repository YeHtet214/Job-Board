import{a as J,Q as k,T as P,r as c,j as e,h as b,B as a,C as T,c as A,d as E,e as S,f as L,x as r,v as B,U as Y,V as z,W as F,Y as M,Z as U,_ as H}from"./index-p34BVjv6.js";import"./input-D2tw3W5N.js";import"./index.esm-DArLBWuV.js";import"./CompanyProfileForm-ChI8CAfE.js";import{C as O}from"./CompanyRequiredCheck-BQ3RCGgz.js";import{u as V}from"./useCompanyQueries-BAavX-MV.js";import{m as d}from"./proxy-DfJG_b9P.js";import{P as j}from"./plus-mP3iLHwD.js";import{E as q}from"./eye-C_wxQzYL.js";import{S as I}from"./square-pen-DTx3FQTO.js";import{T as R}from"./trash-2-sC7knZMh.js";import{C as $}from"./clock-kkW7g1v3.js";import{C as Q}from"./calendar-DRX9Qd72.js";import{U as W}from"./company.service-yom-wa_-.js";import"./en-US-2wKFi4xW.js";import"./endOfMonth-Cvw2Tj17.js";import"./format-BrDpOTCP.js";import"./tabs-BahjVTED.js";import"./index-D5HIZ0ay.js";import"./InputFieldWithLabel-DeHRSKJX.js";import"./label-DPBphUux.js";import"./SelectFieldWithLabel-DTV_oNJu.js";import"./select-BqDyQQzE.js";import"./floating-ui.react-dom-CxFaRRov.js";import"./index-CIe-b8_N.js";import"./check-D6M7RNXc.js";import"./TextareaField-BegYSJzM.js";import"./map-pin-yYVjCuP0.js";import"./globe-DQ4Ry-pd.js";const De=()=>{const o=J(),{data:n,isLoading:y}=V(),{data:t,isLoading:f}=k((n==null?void 0:n.id)||""),m=P(),[x,N]=c.useState(t?t.jobs:[]),[g,p]=c.useState(null),[v,l]=c.useState(!1);c.useEffect(()=>{t&&t.jobs&&N(t.jobs)},[n,t]);const w=async()=>{if(g)try{await m.mutateAsync(g.id),window.alert("Job posting has been deleted successfully.")}catch{window.alert("There was a problem deleting the job posting. Please try again.")}finally{p(null),l(!1)}},C=s=>{p(s),l(!0)},h=s=>{const i=new Date(s);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(i)},D=s=>{const i=new Date,u=s.expiresAt?new Date(s.expiresAt):null;return s.isActive?u&&u<i?e.jsx(r,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:"Expired"}):e.jsx(r,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Active"}):e.jsx(r,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:"Inactive"})};return y||f?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(b,{})}):e.jsxs("div",{className:"container mx-auto max-w-6xl py-10 px-4 sm:px-6",children:[e.jsxs(d.div,{className:"flex justify-between items-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsx("h1",{className:"text-3xl font-bold text-jobboard-darkblue",children:"Your Job Postings"}),e.jsxs(a,{onClick:()=>o("/employer/jobs/create"),className:"bg-jobboard-darkblue hover:bg-jobboard-darkblue/90",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Post New Job"]})]}),e.jsx(O,{children:e.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.1},children:e.jsxs(T,{children:[e.jsxs(A,{children:[e.jsx(E,{children:"Manage Your Job Listings"}),e.jsx(S,{children:"View, edit, and track applications for your posted jobs"})]}),e.jsx(L,{children:x&&x.length>0?e.jsx("div",{className:"space-y-6 grid grid-cols-1 md:!grid-cols-2 lg:!grid-cols-3 xl:!grid-cols-4 gap-4",children:x.map((s,i)=>e.jsxs(d.div,{className:" background-primary-500 rounded-lg p-4 hover:border-jobboard-purple transition-all duration-300 shadow-sm hover:shadow-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:i*.1},whileHover:{scale:1.01},children:[e.jsxs("div",{className:"flex flex-col md:!flex-row md:!justify-between md:!items-start gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-medium text-jobboard-darkblue",children:s.title}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[D(s),e.jsx(r,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:s.type}),e.jsx(r,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:s.location})]})]}),e.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[e.jsx(a,{variant:"outline",size:"icon",onClick:()=>o(`/jobs/${s.id}`),title:"View Job",className:"hover:bg-gray-100 transition-colors",children:e.jsx(q,{className:"h-4 w-4"})}),e.jsx(a,{variant:"outline",size:"icon",onClick:()=>o(`/employer/jobs/edit/${s.id}`),title:"Edit Job",className:"hover:bg-gray-100 transition-colors",children:e.jsx(I,{className:"h-4 w-4"})}),e.jsx(a,{variant:"outline",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50 transition-colors",onClick:()=>C(s),title:"Delete Job",children:e.jsx(R,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 mt-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"h-4 w-4 mr-2 text-gray-400"}),e.jsxs("span",{children:["Posted: ",h(s.createdAt)]})]}),s.expiresAt&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{className:"h-4 w-4 mr-2 text-gray-400"}),e.jsxs("span",{children:["Expires: ",h(s.expiresAt)]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(W,{className:"h-4 w-4 mr-2 text-gray-400"}),e.jsxs("span",{children:[Math.floor(Math.random()*20)," Applications"]})]})]})]},s.id))}):e.jsxs(d.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsx(B,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Jobs Posted Yet"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Start posting jobs and find the perfect candidates for your positions."}),e.jsxs(a,{onClick:()=>o("/employer/jobs/create"),className:"bg-jobboard-darkblue hover:bg-jobboard-darkblue/90",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Post Your First Job"]})]})})]})})}),e.jsx(Y,{open:v,onOpenChange:l,children:e.jsxs(z,{children:[e.jsxs(F,{children:[e.jsx(M,{children:"Are you sure?"}),e.jsx(U,{children:"This action cannot be undone. This will permanently delete the job posting and remove it from our servers."})]}),e.jsxs(H,{className:"flex justify-end space-x-2",children:[e.jsx(a,{variant:"outline",onClick:()=>{p(null),l(!1)},children:"Cancel"}),e.jsx(a,{onClick:w,className:"bg-red-500 hover:bg-red-600 text-white",disabled:m.isPending,children:m.isPending?e.jsxs(e.Fragment,{children:[e.jsx(b,{size:"sm",className:"mr-2"}),"Deleting..."]}):"Delete"})]})]})})]})};export{De as default};
