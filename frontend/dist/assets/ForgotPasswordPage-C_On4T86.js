import{r,b as g,j as e,C as w,c as N,L as n,d as y,e as b,f as S,A as c,k as m,g as v,h as F,i as k,s as C}from"./index-p34BVjv6.js";import{F as A}from"./index.esm-DArLBWuV.js";import{F as E}from"./Form-DBm2B7tt.js";import{I as P}from"./InputFieldWithLabel-DeHRSKJX.js";import{F as L,S as R}from"./auth.schema-I71J8rHF.js";import"./input-D2tw3W5N.js";import{A as D}from"./AuthLayout-93eNJb2q.js";import{A as I}from"./arrow-left-IJ8pBNrm.js";import{M}from"./mail-BIcE5EKX.js";import"./en-US-2wKFi4xW.js";import"./endOfMonth-Cvw2Tj17.js";import"./format-BrDpOTCP.js";import"./label-DPBphUux.js";const U=()=>{const[t,a]=r.useState(null),[d,u]=r.useState(!1),[x,h]=r.useState(""),{toast:o}=g(),p={email:""},f=async(s,{setSubmitting:j})=>{a(null);try{await C.forgotPassword(s.email),u(!0),h(s.email),o({title:"Reset email sent",description:"Please check your inbox for password reset instructions.",variant:"default"})}catch(i){const l=i instanceof Error?i.message:"An error occurred";a(l),o({title:"Error",description:l,variant:"destructive"})}finally{j(!1)}};return e.jsx(D,{title:"Forgot Your Password?",subtitle:"Don't worry, we'll help you reset it",imageSrc:"/auth-background.svg",imagePosition:"left",children:e.jsxs(w,{className:"w-full max-w-md",children:[e.jsxs(N,{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(n,{to:"/login",className:"text-muted-foreground hover:text-primary mr-2",children:e.jsx(I,{className:"h-4 w-4"})}),e.jsx(y,{className:"text-2xl font-bold",children:"Forgot Password"})]}),e.jsx(b,{children:"Enter your email address and we'll send you a link to reset your password."})]}),e.jsx(S,{className:"space-y-4",children:d?e.jsx(c,{className:"bg-green-50 border-green-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(M,{className:"h-4 w-4 text-green-600 mr-2"}),e.jsxs(m,{className:"text-green-800",children:["We've sent a password reset link to ",e.jsx("span",{className:"font-medium",children:x}),". Please check your email inbox and follow the instructions to reset your password."]})]})}):e.jsx(A,{initialValues:p,validationSchema:L,onSubmit:f,children:({isSubmitting:s})=>e.jsxs(E,{children:[t&&e.jsxs(c,{className:"bg-destructive/15 border-destructive/30",children:[e.jsx(v,{className:"h-4 w-4 text-destructive mr-2"}),e.jsx(m,{className:"text-destructive",children:t})]}),e.jsx(P,{formik:!0,name:"email",label:"Email",placeholder:"name@example.com",autoComplete:"email",required:!0,disabled:s}),e.jsx(R,{className:"w-full",disabled:s,children:s?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(F,{size:"sm",className:"mr-2"})," Sending..."]}):"Send Reset Link"})]})})}),e.jsx(k,{className:"flex justify-center border-t p-4",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Remember your password?"," ",e.jsx(n,{to:"/login",className:"font-medium text-jb-primary hover:underline",children:"Back to login"})]})})]})})};export{U as default};
