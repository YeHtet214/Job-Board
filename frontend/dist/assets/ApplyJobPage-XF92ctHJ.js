import{t as f,j as e,C as d,c as o,d as m,a0 as q,f as u,r as C,a as E,o as R,y as L,u as $,e as M,i as k,B as g}from"./index-p34BVjv6.js";import{c as H,b as _,d as n,i as U,F as V,g as W}from"./index.esm-DArLBWuV.js";import{T as z,a as D,b as J,c as p}from"./tabs-BahjVTED.js";import{P as Q}from"./Progress-Cji0u2L3.js";import{I as x}from"./InputFieldWithLabel-DeHRSKJX.js";import"./input-D2tw3W5N.js";import{T as I}from"./TextareaField-BegYSJzM.js";import{F as B,C as O}from"./FileInputFieldWithLabel-Cy-Tb6ZB.js";import{F as X}from"./file-text-CCTf3hu_.js";import{C as Y}from"./clipboard-list-COxkZcIq.js";import{b as Z}from"./useApplicationQueries-DGWYOvPD.js";import{C as G}from"./check-D6M7RNXc.js";import"./en-US-2wKFi4xW.js";import"./endOfMonth-Cvw2Tj17.js";import"./format-BrDpOTCP.js";import"./index-D5HIZ0ay.js";import"./label-DPBphUux.js";import"./application.service-CmxcU4-G.js";/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ee=f("CircleHelp",K);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],ae=f("File",se);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],T=f("MessageSquare",le),re=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Personal Information"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please provide your contact information below."}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsx("div",{className:"grid gap-2",children:e.jsx(x,{name:"fullName",label:"Full Name",required:!0,formik:!0,placeholder:"Enter your full name"})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(x,{name:"email",label:"Email Address",required:!0,formik:!0,placeholder:"Enter your email address"})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(x,{name:"phone",label:"Phone Number",required:!0,formik:!0,placeholder:"Enter your phone number"})})]})]}),ie=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b-2 border-gray-200 pb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Resume / CV"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Upload your resume or use one from your profile."}),e.jsx(B,{name:"resume",label:"Upload Resume",description:"Accepted formats: PDF, DOC, DOCX",accept:".pdf,.doc,.docx",required:!0,formik:!0})]}),e.jsxs("div",{className:"pb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Cover Letter"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Tell the employer why you're a good fit for this position."}),e.jsx(I,{name:"coverLetter",label:"Cover Letter",placeholder:"Write your cover letter here...",formik:!0,required:!0}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tips for a great cover letter:"}),e.jsxs("ul",{className:"list-disc pl-5 text-xs text-gray-500 mt-1 space-y-1",children:[e.jsx("li",{children:"Introduce yourself and explain why you're interested in this position"}),e.jsx("li",{children:"Highlight your most relevant skills and experience"}),e.jsx("li",{children:"Explain how your background makes you a good fit"}),e.jsx("li",{children:"End with a call to action, inviting the employer to contact you"})]})]})]})]}),te=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Additional Questions"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please answer these additional questions from the employer."}),e.jsxs("div",{className:"grid gap-6 py-4",children:[e.jsx("div",{className:"grid gap-2",children:e.jsx(x,{name:"availability",label:"When can you start?",required:!0,formik:!0,placeholder:"e.g., Immediately, 2 weeks, after June 15th, etc."})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(x,{name:"expectedSalary",label:"What is your expected salary?",required:!0,formik:!0,placeholder:"e.g., $70,000 - $80,000 per year"})}),e.jsx("div",{className:"grid gap-2",children:e.jsx(I,{name:"additionalInfo",label:"Anything else you'd like to share?",placeholder:"Share any additional information that might help your application...",formik:!0})})]})]}),ne=({formik:s,jobTitle:h,companyName:j})=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Review & Submit"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please review your application before submitting."}),e.jsxs("div",{className:"grid gap-6 py-4",children:[e.jsxs(d,{children:[e.jsx(o,{className:"pb-2",children:e.jsxs(m,{className:"text-sm font-medium flex items-center",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Personal Information"]})}),e.jsx(u,{className:"text-sm space-y-2",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Full Name:"}),e.jsx("span",{className:"ml-1 font-medium",children:s.values.fullName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Email:"}),e.jsx("span",{className:"ml-1 font-medium",children:s.values.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Phone:"}),e.jsx("span",{className:"ml-1 font-medium",children:s.values.phone})]})]})})]}),e.jsxs(d,{children:[e.jsx(o,{className:"pb-2",children:e.jsxs(m,{className:"text-sm font-medium flex items-center",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Resume"]})}),e.jsx(u,{className:"text-sm",children:s.values.useExistingResume?e.jsx("div",{className:"text-sm",children:"Using resume from your profile"}):s.values.resume?e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Resume File:"}),e.jsx("span",{className:"ml-1 font-medium",children:s.values.resume.name})]}):e.jsx("div",{className:"text-sm text-yellow-600",children:"No resume uploaded"})})]}),e.jsxs(d,{children:[e.jsx(o,{className:"pb-2",children:e.jsxs(m,{className:"text-sm font-medium flex items-center",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Cover Letter"]})}),e.jsx(u,{className:"text-sm",children:e.jsx("div",{className:"max-h-32 overflow-y-auto p-2 bg-gray-50 rounded-md",children:s.values.coverLetter||e.jsx("span",{className:"text-yellow-600",children:"No cover letter provided"})})})]}),e.jsxs(d,{children:[e.jsx(o,{className:"pb-2",children:e.jsxs(m,{className:"text-sm font-medium flex items-center",children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Additional Questions"]})}),e.jsxs(u,{className:"text-sm space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Availability:"}),e.jsx("span",{className:"ml-1 font-medium",children:s.values.availability})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Expected Salary:"}),e.jsx("span",{className:"ml-1 font-medium",children:s.values.expectedSalary})]}),s.values.additionalInfo&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Additional Information:"}),e.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded-md",children:s.values.additionalInfo})]})]})]}),e.jsxs(d,{children:[e.jsx(o,{className:"pb-2",children:e.jsxs(m,{className:"text-sm font-medium flex items-center",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Application Summary"]})}),e.jsxs(u,{className:"text-sm space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Position:"}),e.jsx("span",{className:"ml-1 font-medium",children:h||"Unknown Position"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Company:"}),e.jsx("span",{className:"ml-1 font-medium",children:j||"Unknown Company"})]})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(O,{name:"acceptTerms",label:"I confirm that all the information provided is accurate and complete",formik:!0})})})]})]}),ce=H().shape({fullName:n().required("Full name is required"),email:n().email("Invalid email").required("Email is required"),phone:n().required("Phone number is required"),resume:U().test("fileRequired","Please upload your resume or use existing one",function(s){return this.parent.useExistingResume||s!==null}),coverLetter:n().required("Cover letter is required"),availability:n().required("Please specify your availability"),expectedSalary:n().required("Expected salary is required"),acceptTerms:_().oneOf([!0],"You must accept the terms and conditions")}),c=[{value:"personal",label:"Personal",Icon:e.jsx(q,{className:"h-4 w-4"})},{value:"resume",label:"Resume",Icon:e.jsx(ae,{className:"h-4 w-4"})},{value:"questions",label:"Questions",Icon:e.jsx(T,{className:"h-4 w-4"})},{value:"review",label:"Review",Icon:e.jsx(G,{className:"h-4 w-4"})}],Te=()=>{var w;const[s,h]=C.useState("personal"),[j,P]=C.useState(20),b=E(),A=Z(),v=R().id,{data:r}=L(v||""),{currentUser:i}=$();if(!v){b("/jobseeker/jobs");return}const F={jobId:v,fullName:i?`${i.firstName} ${i.lastName}`:"",email:(i==null?void 0:i.email)||"",phone:"",resume:null,useExistingResume:!1,coverLetter:"",availability:"",expectedSalary:"",additionalInfo:"",acceptTerms:!1},S=async(l,{setSubmitting:t})=>{try{t(!0);const a=await A.mutateAsync(l);console.log("Application created:",a),b(`/jobseeker/applications/${a.id}`)}catch(a){console.error("Error submitting form:",a)}finally{t(!1)}},y=l=>{h(l),P({personal:20,resume:40,coverLetter:60,questions:80,review:100}[l]||0)};return e.jsx("div",{className:"container mx-auto py-6 px-4 sm:px-6",children:e.jsxs(d,{className:"w-full",children:[e.jsxs(o,{children:[e.jsxs(m,{className:"text-2xl",children:["Apply for ",(r==null?void 0:r.title)||"Job"]}),e.jsxs(M,{children:[((w=r==null?void 0:r.company)==null?void 0:w.name)||"Company"," • ",(r==null?void 0:r.location)||"Location"]}),e.jsx(Q,{value:j})]}),e.jsx(V,{initialValues:F,validationSchema:ce,onSubmit:S,enableReinitialize:!0,children:l=>{var t;return e.jsxs(W,{children:[e.jsx(u,{children:e.jsxs(z,{value:s,onValueChange:y,className:"w-full",children:[e.jsx(D,{className:"grid grid-cols-5 mb-8",children:c.map(a=>e.jsxs(J,{value:a.value,className:"flex flex-col items-center gap-1 sm:flex-row sm:gap-2",children:[a.Icon,e.jsx("span",{className:"text-xs sm:text-sm",children:a.label}),a.value==="personal"&&(l.errors.fullName||l.errors.email||l.errors.phone)&&e.jsx("span",{className:"ml-2 h-2 w-2 rounded-full bg-red-500"}),a.value==="resume"&&(l.errors.resume||l.errors.useExistingResume)&&e.jsx("span",{className:"ml-2 h-2 w-2 rounded-full bg-red-500"}),a.value==="questions"&&(l.errors.coverLetter||l.errors.availability||l.errors.expectedSalary||l.errors.additionalInfo)&&e.jsx("span",{className:"ml-2 h-2 w-2 rounded-full bg-red-500"})]},a.value))}),e.jsx(p,{value:"personal",children:e.jsx(re,{})}),e.jsx(p,{value:"resume",children:e.jsx(ie,{})}),e.jsx(p,{value:"questions",children:e.jsx(te,{})}),e.jsx(p,{value:"review",children:e.jsx(ne,{formik:l,jobTitle:r==null?void 0:r.title,companyName:(t=r==null?void 0:r.company)==null?void 0:t.name})})]})}),e.jsxs(k,{className:"flex justify-between",children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>{const a=c.findIndex(N=>N.value===s);a>0&&y(c[a-1].value)},disabled:s==="personal",children:"Previous"}),s==="review"?e.jsx(g,{type:"submit",disabled:l.isSubmitting,children:"Submit Application"}):e.jsx(g,{type:"button",onClick:()=>{const a=c.findIndex(N=>N.value===s);a<c.length-1&&y(c[a+1].value)},children:"Next"})]})]})}})]})})};export{Te as default};
